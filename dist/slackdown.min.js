!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.slackdown=b()}(this,function(){var a=function(a,c){c||(c=0);var d=a.length;return b(a.substr(c,d-c))},b=function(a){return a.split("|")},c=function(a,b,c){c||(c=b,b={});var d="<".concat(a);for(var e in b)b.hasOwnProperty(e)&&(d=d.concat(" ",e,'="',b[e],'"'));return d.concat(">",c,"</",a,">")},d=function(b){var d,e=b[1].substr(0,1);switch(e){case"!":return c("span",{"class":"slack-cmd"},a(b[1],1)[0]);case"#":return d=a(b[1],2),c("span",{"class":"slack-channel"},1==d.length?d[0]:d[1]);case"@":return d=a(b[1],2),c("span",{"class":"slack-user"},1==d.length?d[0]:d[1]);default:return d=a(b[1]),c("a",{href:d[0]},1==d.length?d[0]:d[1])}},e=function(b){return i(b,c("strong",a(b[1])))},f=function(b){return i(b,c("em",a(b[1])))},g=function(b){return i(b,c("code",a(b[1])))},h=function(a){return/^\s?$/.test(a)},i=function(a,b){var c=0==a.index,d=a.index==a.input.length-a[0].length;if(!c){var e=a.input.substr(a.index-1,1);c=h(e)}if(!d){var f=a.input.substr(a.index+a[0].length,1);d=h(f)}return c&&d?b:!1},j=function(a){if("string"==typeof a)for(var b=[{p:/<(.*?)>/g,cb:d},{p:/\*([^\*]*?)\*/g,cb:e},{p:/_([^_]*?)_/g,cb:f},{p:/`([^`]*?)`/g,cb:g}],c=0;c<b.length;c++)for(var h,i=b[c],j=a;null!==(h=i.p.exec(j));){var k=i.cb(h);k&&(a=a.replace(h[0],k))}return a};return{parse:j}});